### Environment defaults for Docker Compose (compose.yaml)
# Copy this file to .env or edit values as needed. Values here provide safe
# defaults for local development.

# Auth token used by gateway endpoints. Change to a strong secret in production.
AUTH_TOKEN=changeme

# Optional token for catalog <-> gateway authentication. Leave empty if not used.
CATALOG_TOKEN=

# Ollama server base URL (for local Ollama use, Docker on mac uses host.docker.internal)
# Example: http://host.docker.internal:11434
OLLAMA_BASE_URL=http://host.docker.internal:11434

# Ollama configuration for iMessage collector image captioning
# Set OLLAMA_ENABLED=false to disable optional image captioning (useful for debugging)
OLLAMA_ENABLED=true
# OLLAMA_API_URL=http://localhost:11434/api/generate
# OLLAMA_VISION_MODEL=qwen2.5vl:3b
# OLLAMA_TIMEOUT_SECONDS=60
# OLLAMA_MAX_RETRIES=2

# Embedding model identifier used by services that call the embedding provider.
# Default matches compose.yaml fallbacks (use lowercase model ids where required).
EMBEDDING_MODEL=BAAI/bge-m3

# Worker tuning
# How often (seconds) the embedding worker polls for work. Float allowed.
WORKER_POLL_INTERVAL=2.0
# How many items the worker will request per batch.
WORKER_BATCH_SIZE=16

# Database defaults (used by services when not overridden)
POSTGRES_DB=haven
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Qdrant defaults (URL and collection name used in compose.yaml)
QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION=haven_chunks

# Service URLs (used for local inter-service communication inside Docker)
SEARCH_URL=http://search:8080
CATALOG_BASE_URL=http://catalog:8081
CONTACTS_HELPER_URL=http://catalog:8081

# Database DSN examples (these are the same as the ones used in the compose file)
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/haven
DB_DSN=postgresql://postgres:postgres@postgres:5432/haven

# Helpful notes: To use these values with `docker compose`, either export them in
# your shell or rely on this file being present at the repo root. Keep secrets out
# of source control for production environments (use a secrets manager instead).
